# Opendaylight Load Balancer
**Goal**: The goal of this project is to create an Opendaylight which acts as an SDN Controller and implement load balancing on any topology. 

*Note: Since we have no restrictions on the type of load balancing algorithm, I have used Round Robin method of load balancing in which each backend server hosts get equal loads. There are many other ways of load balancing
such as Weighted Round Robin, Least Connections, Weighted Least Connections, etc.*

**Code is optimized only for the given conditions, this code is only for referential purposes. Use the logic in accordance with your network and flow rule requirements.** 

Here for the sake of simplicity, I have created a code where in there are 3 host computers in which host 1 'h1' acts as the host that pings a virtual IP Address. This request is handled by 'h2' and 'h3'. 

## System Requirements

1. SDN Controller: [Opendaylight Carbon](https://nexus.opendaylight.org/content/repositories/public/org/opendaylight/integration/distribution-karaf/0.6.4-Carbon/distribution-karaf-0.6.4-Carbon.tar.gz)
2. Virtual Network Topology: [Mininet](http://mininet.org)
3. Evaluation: [Wireshark](http://wireshark.org), [iPerf](http://iperf.fr)
4. OS: [Ubuntu 18.04](http://ubuntu.com)
5. Java 8 OpenJDK AMD64 (Use the command 'sudo apt-get install openjdk-8-jdk')

**Implementation Idea**: Use of REST API feature available on Opendaylight for controlling the flow of packets.

## Implementation Approach

1. Make the network using Mininet
2. Define Flow Rules
3. Using REST API, make the Opendaylight controller aware about the flow rules
4. Using iPerf or ping commands, generate traffic to virtual IP address
5. Track the traffic using the terminal or use wireshark to trace packets.

## Results achieved


Flow <flow_id> successfully added to <switch_id>
Redirecting traffic from 10.0.0.1/32 to 10.0.0.2/32
Flow <flow_id> successfully added to <switch_id>
Redirecting traffic from 10.0.0.1/32 to 10.0.0.3/32

ping or iPerf is the traffic generated by 10.0.0.1 (IP Address of h1) to 10.0.1.1(virtual IP) and is load balanced between 10.0.0.2 and 10.0.0.3 (IP Addresses of h2 and h3 respectively)

## How to use

### Requirements

1. Opendaylight Carbon (use the link provided above if need be)
2. Mininet (use the link above if need be)
3. Python3

### Step by step implementation

1. Install Opendaylight Distribution Package from [Opendaylight](http://opendaylight.org/downloads)
2. Unzip the package
3. Set up Opendaylight
4. In the directory access Opendaylight using 'sudo ./karaf' command
5. Open browser and access [Opendaylight DLUX Website](http:localhost:8181/index.html)
6. In this enter the username and password as 'admin' and 'admin' respectively.
7. Download all necessary libraries required for the implementation. (All features of mdsal, All features of dlux, All features of l2switch-switch, All features of restconf)
8. Create a Python script for implementing and pushing this onto Opendaylight controller.
9. Make sure to have requests installed.
10. Observe in terminal
